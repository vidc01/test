
on: push
name: ðŸš€ Deploy website on push

jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
      - name: ðŸšš Get latest code
        uses: actions/checkout@v3

      - name: ðŸ“‚ Sync files via SFTP
        uses: appleboy/scp-action@master
        with:
          host: ssh-alwaysdata.net
          username: quai
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          source: "./"
          exclude: |
          **/.git*
          **/.git*/**
          **/node_modules/bootstrap/scss/**
          **/node_modules/bootstrap/js/**
          **/node_modules/bootstrap-icons/icons/**  
          target: "/www/"
          rm: true  # Supprime les fichiers obsolÃ¨tes pour Ã©viter les conflits
